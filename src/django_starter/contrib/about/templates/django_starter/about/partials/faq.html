{% load i18n %}

{% for item in faqs %}
    <details class="group rounded-3xl border border-slate-200/10 bg-white/60 p-6 shadow-sm ring-1 ring-slate-900/5 transition duration-200 ease-out hover:bg-white/80 dark:bg-slate-950/30 dark:ring-white/10">
        <summary class="flex cursor-pointer list-none items-center justify-between gap-4">
            <span class="text-sm font-semibold text-slate-900 dark:text-white">{{ item.q }}</span>
            <span class="flex h-9 w-9 items-center justify-center rounded-full bg-slate-900/5 text-slate-700 transition group-open:rotate-180 dark:bg-white/10 dark:text-slate-200">
                <i class="fa-solid fa-chevron-down text-xs"></i>
            </span>
        </summary>
        <div class="mt-4 text-sm leading-6 text-slate-600 dark:text-slate-300">{{ item.a }}</div>
    </details>
{% endfor %}

<div id="faqLoadMore" hx-swap-oob="outerHTML" class="mt-6">
    {% if has_more %}
        <button
            type="button"
            hx-get="{% url 'djs_about:partials_faq' %}?offset={{ next_offset }}"
            hx-target="#faqList"
            hx-swap="beforeend"
            hx-on:htmx:beforeRequest="this.querySelector('[data-spinner]').classList.remove('hidden'); this.querySelector('[data-label]').classList.add('hidden'); this.disabled = true;"
            hx-on:htmx:afterRequest="this.querySelector('[data-spinner]').classList.add('hidden'); this.querySelector('[data-label]').classList.remove('hidden');"
            class="inline-flex items-center justify-center gap-2 rounded-full border border-slate-200/20 bg-white/60 px-6 py-3 text-sm font-medium text-slate-800 shadow-sm transition duration-200 ease-out hover:bg-white/80 focus:outline-none focus:ring-4 focus:ring-slate-900/10 disabled:cursor-not-allowed disabled:opacity-60 dark:bg-slate-900/30 dark:text-slate-200 dark:hover:bg-slate-900/50">
            <span data-label class="inline-flex items-center gap-2">
                <i class="fa-solid fa-plus"></i>
                {% trans "查看更多问题" %}
            </span>
            <span data-spinner class="hidden inline-flex items-center gap-2">
                <i class="fa-solid fa-circle-notch animate-spin"></i>
                {% trans "加载中" %}
            </span>
        </button>
    {% endif %}
</div>

