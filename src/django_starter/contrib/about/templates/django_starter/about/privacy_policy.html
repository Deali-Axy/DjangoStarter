{% extends 'django_starter/about/_base.html' %}
{% load i18n %}

{% block title %}{% trans "隐私政策" %} - {{ site_name }}{% endblock %}

{% block content %}
<section class="relative overflow-hidden rounded-3xl border border-slate-200/10 bg-white/60 p-8 shadow-sm ring-1 ring-slate-900/5 backdrop-blur-sm dark:bg-slate-950/30 dark:ring-white/10" data-aos="fade-up">
    <div class="pointer-events-none absolute inset-0">
        <div class="absolute -top-24 -right-24 h-72 w-72 rounded-full bg-emerald-500/10 blur-3xl"></div>
        <div class="absolute -bottom-24 -left-24 h-72 w-72 rounded-full bg-indigo-500/10 blur-3xl"></div>
    </div>
    <div class="relative">
        <div class="flex items-start justify-between gap-4">
            <div class="flex items-center gap-3">
                <div class="flex h-11 w-11 items-center justify-center rounded-2xl bg-emerald-600/10 text-emerald-700 ring-1 ring-emerald-600/15 dark:text-emerald-300">
                    <i class="fa-solid fa-shield"></i>
                </div>
                <div>
                    <h1 class="text-3xl font-semibold tracking-tight text-slate-900 dark:text-white">{% trans "隐私政策" %}</h1>
                    <p class="mt-1 text-sm text-slate-600 dark:text-slate-300">{% trans "我们会以透明、可解释的方式处理你的数据。" %}</p>
                </div>
            </div>
            <div class="hidden sm:flex items-center gap-2 rounded-full border border-emerald-600/20 bg-emerald-600/10 px-4 py-2 text-xs font-medium text-emerald-700 dark:text-emerald-300">
                <i class="fa-solid fa-circle-check"></i>
                <span>{% trans "GDPR 合规" %}</span>
            </div>
        </div>
    </div>
</section>

<section class="mt-10 grid grid-cols-12 gap-8">
    <aside class="col-span-12 lg:col-span-4" aria-label="{% trans '隐私政策目录' %}" data-aos="fade-up">
        <div class="lg:sticky lg:top-24 rounded-3xl border border-slate-200/10 bg-white/60 p-6 shadow-sm ring-1 ring-slate-900/5 dark:bg-slate-950/30 dark:ring-white/10">
            <p class="text-sm font-semibold text-slate-900 dark:text-white">{% trans "内容目录" %}</p>
            <nav class="mt-4 space-y-1">
                <a href="#introduction" class="toc-link flex items-center justify-between rounded-2xl px-3 py-2 text-sm text-slate-700 transition hover:bg-slate-900/5 dark:text-slate-200 dark:hover:bg-white/10">
                    <span>{% trans "引言" %}</span>
                    <i class="fa-solid fa-arrow-right text-xs text-slate-400"></i>
                </a>
                <a href="#data-collection" class="toc-link flex items-center justify-between rounded-2xl px-3 py-2 text-sm text-slate-700 transition hover:bg-slate-900/5 dark:text-slate-200 dark:hover:bg-white/10">
                    <span>{% trans "信息收集" %}</span>
                    <i class="fa-solid fa-arrow-right text-xs text-slate-400"></i>
                </a>
                <a href="#data-sharing" class="toc-link flex items-center justify-between rounded-2xl px-3 py-2 text-sm text-slate-700 transition hover:bg-slate-900/5 dark:text-slate-200 dark:hover:bg-white/10">
                    <span>{% trans "信息共享" %}</span>
                    <i class="fa-solid fa-arrow-right text-xs text-slate-400"></i>
                </a>
            </nav>
        </div>
    </aside>

    <main class="col-span-12 lg:col-span-8" role="main" data-aos="fade-up" data-aos-delay="80">
        <article class="space-y-6">
            <section id="introduction" class="scroll-mt-24 rounded-3xl border border-slate-200/10 bg-white/60 p-8 shadow-sm ring-1 ring-slate-900/5 dark:bg-slate-950/30 dark:ring-white/10" role="region" aria-labelledby="introduction-heading">
                <div class="flex items-center gap-3">
                    <div class="flex h-10 w-10 items-center justify-center rounded-2xl bg-indigo-600/10 text-indigo-700 ring-1 ring-indigo-600/15 dark:text-indigo-300">
                        <i class="fa-solid fa-circle-info"></i>
                    </div>
                    <h2 id="introduction-heading" class="text-xl font-semibold text-slate-900 dark:text-white">{% trans "引言" %}</h2>
                </div>
                <p class="mt-4 text-sm leading-6 text-slate-600 dark:text-slate-300">{% trans '[公司名称]（以下简称"我们"）高度重视用户的隐私保护。您在使用我们的服务时，我们可能会收集和使用您的相关信息。本政策将帮助您了解以下内容：' %}</p>
            </section>

            <section id="data-collection" class="scroll-mt-24 rounded-3xl border border-slate-200/10 bg-white/60 p-8 shadow-sm ring-1 ring-slate-900/5 dark:bg-slate-950/30 dark:ring-white/10" role="region" aria-labelledby="data-collection-heading">
                <div class="flex items-center gap-3">
                    <div class="flex h-10 w-10 items-center justify-center rounded-2xl bg-indigo-600/10 text-indigo-700 ring-1 ring-indigo-600/15 dark:text-indigo-300">
                        <i class="fa-solid fa-database"></i>
                    </div>
                    <h2 id="data-collection-heading" class="text-xl font-semibold text-slate-900 dark:text-white">{% trans "信息收集与使用" %}</h2>
                </div>
                <ul class="mt-5 space-y-4 text-sm text-slate-600 dark:text-slate-300">
                    <li class="flex items-start gap-3">
                        <i class="fa-solid fa-id-card mt-0.5 text-slate-400"></i>
                        <span>{% trans "在您注册账户时收集的个人身份信息（如姓名、电子邮件地址等）" %}</span>
                    </li>
                    <li class="flex items-start gap-3">
                        <i class="fa-solid fa-network-wired mt-0.5 text-slate-400"></i>
                        <span>{% trans "使用服务时自动收集的技术信息（如IP地址、浏览器类型、访问时间等）" %}</span>
                    </li>
                    <li class="flex items-start gap-3">
                        <i class="fa-solid fa-cookie-bite mt-0.5 text-slate-400"></i>
                        <span>{% trans "通过Cookies和类似技术收集的信息" %}</span>
                    </li>
                </ul>
            </section>

            <section id="data-sharing" class="scroll-mt-24 rounded-3xl border border-slate-200/10 bg-white/60 p-8 shadow-sm ring-1 ring-slate-900/5 dark:bg-slate-950/30 dark:ring-white/10" role="region" aria-labelledby="data-sharing-heading">
                <div class="flex items-center gap-3">
                    <div class="flex h-10 w-10 items-center justify-center rounded-2xl bg-indigo-600/10 text-indigo-700 ring-1 ring-indigo-600/15 dark:text-indigo-300">
                        <i class="fa-solid fa-share-nodes"></i>
                    </div>
                    <h2 id="data-sharing-heading" class="text-xl font-semibold text-slate-900 dark:text-white">{% trans "信息共享与披露" %}</h2>
                </div>
                <p class="mt-4 text-sm leading-6 text-slate-600 dark:text-slate-300">{% trans "我们承诺不会将您的个人信息出售给第三方。仅在以下情况可能共享信息：" %}</p>
                <ul class="mt-5 space-y-4 text-sm text-slate-600 dark:text-slate-300">
                    <li class="flex items-start gap-3">
                        <i class="fa-solid fa-check mt-0.5 text-emerald-500"></i>
                        <span>{% trans "获得您明确同意或授权" %}</span>
                    </li>
                    <li class="flex items-start gap-3">
                        <i class="fa-solid fa-gavel mt-0.5 text-amber-500"></i>
                        <span>{% trans "根据法律法规要求或司法程序需要" %}</span>
                    </li>
                    <li class="flex items-start gap-3">
                        <i class="fa-solid fa-users mt-0.5 text-sky-500"></i>
                        <span>{% trans "维护社会公共利益" %}</span>
                    </li>
                </ul>
            </section>

            <div class="pt-4">
                <p class="text-sm text-slate-500 dark:text-slate-400">
                    <i class="fa-solid fa-rotate"></i>
                    {% trans "最后更新日期：[更新日期]" %}
                </p>
            </div>
        </article>
    </main>
</section>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const links = Array.from(document.querySelectorAll('.toc-link'));
        const sections = Array.from(document.querySelectorAll('section[id]'));
        if (!links.length || !sections.length) return;

        const setActive = (id) => {
            links.forEach((link) => {
                const isActive = link.getAttribute('href') === '#' + id;
                link.classList.toggle('bg-slate-900/5', isActive);
                link.classList.toggle('text-indigo-700', isActive);
                link.classList.toggle('font-semibold', isActive);
            });
        };

        const observer = new IntersectionObserver(
            (entries) => {
                entries.forEach((entry) => {
                    if (entry.isIntersecting) {
                        setActive(entry.target.getAttribute('id'));
                    }
                });
            },
            { threshold: 0.35 }
        );

        sections.forEach((section) => observer.observe(section));
    });
</script>
{% endblock %}
